{"ast":null,"code":"var _jsxFileName = \"/Users/kyuhyunpark/Desktop/HotelByKaaPaaa/HotelKP/client/src/components/shared/header/MainHeader.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useNavigate } from \"react-router-dom\";\nimport * as authActions from '../../../redux/authAction';\nimport { HeaderLayout, LinkTitle, RightContainer, CenteredLink, HeaderMain, AccommdationStyle } from \"./HeaderStyle\";\nimport { resetLikes } from \"../../../redux/slice/likeSlice\";\nimport Sidebar from './Sidebar';\nimport WithdrawalPart from '../../hotel/users/WithdrawalPart';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function MainHeader({\n  bgColor\n}) {\n  _s();\n  const [loggedInUser, setLoggedInUser] = useState(null);\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\n  const isLoggedIn = useSelector(state => {\n    var _state$auth;\n    return (_state$auth = state.auth) === null || _state$auth === void 0 ? void 0 : _state$auth.isLoggedIn;\n  });\n  const userRole = useSelector(state => {\n    var _state$auth2;\n    return (_state$auth2 = state.auth) === null || _state$auth2 === void 0 ? void 0 : _state$auth2.userRole;\n  });\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (isLoggedIn) {\n      const storedUser = localStorage.getItem('loggedInUser');\n      setLoggedInUser(JSON.parse(storedUser));\n    } else {\n      setLoggedInUser(null);\n    }\n  }, [isLoggedIn]);\n  useEffect(() => {\n    const handleResize = () => {\n      setWindowWidth(window.innerWidth);\n    };\n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n  const handleLogout = () => {\n    dispatch(authActions.logout());\n    dispatch(resetLikes());\n    navigate(\"/\");\n  };\n  return /*#__PURE__*/_jsxDEV(HeaderLayout, {\n    bgColor: bgColor,\n    children: [/*#__PURE__*/_jsxDEV(LinkTitle, {\n      to: \"/\",\n      children: [/*#__PURE__*/_jsxDEV(HeaderMain, {\n        children: \"\\uB204\\uAD6C\\uC5C5\\uC18C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AccommdationStyle, {\n        children: \"ACCOMMODATION\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(RightContainer, {\n      children: windowWidth > 780 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [isLoggedIn && loggedInUser && /*#__PURE__*/_jsxDEV(CenteredLink, {\n          children: loggedInUser.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), !isLoggedIn && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(CenteredLink, {\n            to: \"/login\",\n            children: \"\\uB85C\\uADF8\\uC778\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(CenteredLink, {\n            to: \"/join\",\n            children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), isLoggedIn && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(WithdrawalPart, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(CenteredLink, {\n            to: \"/\",\n            onClick: handleLogout,\n            style: {\n              cursor: 'pointer'\n            },\n            children: \"\\uB85C\\uADF8\\uC544\\uC6C3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(CenteredLink, {\n            to: \"/mypage\",\n            children: \"\\uB9C8\\uC774\\uD398\\uC774\\uC9C0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this), userRole === \"hotel_admin\" && /*#__PURE__*/_jsxDEV(CenteredLink, {\n            to: \"/uploadHotel\",\n            children: \"\\uD638\\uD154\\uB4F1\\uB85D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), windowWidth <= 780 && /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 30\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(MainHeader, \"A837sfviDdomk394nrHJa9w5A94=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useNavigate];\n});\n_c = MainHeader;\nvar _c;\n$RefreshReg$(_c, \"MainHeader\");","map":{"version":3,"names":["React","useEffect","useState","useSelector","useDispatch","useNavigate","authActions","HeaderLayout","LinkTitle","RightContainer","CenteredLink","HeaderMain","AccommdationStyle","resetLikes","Sidebar","WithdrawalPart","jsxDEV","_jsxDEV","Fragment","_Fragment","MainHeader","bgColor","_s","loggedInUser","setLoggedInUser","windowWidth","setWindowWidth","window","innerWidth","isLoggedIn","state","_state$auth","auth","userRole","_state$auth2","dispatch","navigate","storedUser","localStorage","getItem","JSON","parse","handleResize","addEventListener","removeEventListener","handleLogout","logout","children","to","fileName","_jsxFileName","lineNumber","columnNumber","id","onClick","style","cursor","_c","$RefreshReg$"],"sources":["/Users/kyuhyunpark/Desktop/HotelByKaaPaaa/HotelKP/client/src/components/shared/header/MainHeader.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useNavigate } from \"react-router-dom\";\nimport * as authActions from '../../../redux/authAction';\nimport {\n  HeaderLayout,\n  LinkTitle,\n  RightContainer,\n  CenteredLink,\n  HeaderMain,\n  AccommdationStyle,\n} from \"./HeaderStyle\";\nimport { resetLikes } from \"../../../redux/slice/likeSlice\"; \nimport Sidebar from './Sidebar';\nimport WithdrawalPart from '../../hotel/users/WithdrawalPart';\n\nexport default function MainHeader({ bgColor }) {\n  const [loggedInUser, setLoggedInUser] = useState(null);\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\n  const isLoggedIn = useSelector((state) => state.auth?.isLoggedIn);\n  const userRole = useSelector((state) => state.auth?.userRole);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      const storedUser = localStorage.getItem('loggedInUser');\n      setLoggedInUser(JSON.parse(storedUser));\n      \n    } else {\n      setLoggedInUser(null);\n    }\n  }, [isLoggedIn]);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setWindowWidth(window.innerWidth);\n    };\n  \n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n  \n\n  const handleLogout = () => {\n    dispatch(authActions.logout());\n    dispatch(resetLikes()); \n    navigate(\"/\");\n  };\n\n\n  return (\n    <HeaderLayout  bgColor={bgColor}>\n      <LinkTitle to=\"/\">\n        <HeaderMain>누구업소</HeaderMain>\n        <AccommdationStyle>ACCOMMODATION</AccommdationStyle>\n      </LinkTitle>\n  \n      <RightContainer>\n      {windowWidth > 780 && (\n        <>\n        {isLoggedIn && loggedInUser && ( \n  \n            <CenteredLink>\n              {loggedInUser.id} \n            </CenteredLink>\n          )}\n          {!isLoggedIn && (\n            <>\n              <CenteredLink to=\"/login\">로그인</CenteredLink>\n              <CenteredLink to=\"/join\">회원가입</CenteredLink>\n            </>\n          )}\n          {isLoggedIn && (\n            <>\n                <WithdrawalPart />\n                <CenteredLink to=\"/\" onClick={handleLogout} style={{cursor: 'pointer'}}>로그아웃</CenteredLink>\n                <CenteredLink to=\"/mypage\">마이페이지</CenteredLink>\n              {userRole === \"hotel_admin\" && (\n                <CenteredLink to=\"/uploadHotel\">호텔등록</CenteredLink>\n              )}\n            </>\n          )}\n        </>\n      )}\n      </RightContainer>\n      {windowWidth <= 780 && <Sidebar/>}\n    </HeaderLayout>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}