{"ast":null,"code":"var _jsxFileName = \"/Users/kyuhyunpark/Desktop/HotelByKaaPaaa/HotelKP/client/src/pages/HotelListPage.jsx\",\n  _s = $RefreshSig$();\n// client/src/pages/HotelListPage.jsx\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { HotelListContainer, HotelListWrapper, HotelSortButton, HotelSortContainer, Line } from \"../components/pagestyles/HotelListStyle\";\nimport HotelCard from '../components/hotel/HotelCard';\nimport SearchBar from \"../components/hotel/search/SearchBar\";\nimport HotelComparison from \"../components/hotel/comparison/HotelComparison\";\nimport MainCategory from \"../components/main/MainCategory\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function HotelListPage() {\n  _s();\n  const {\n    accommodationType\n  } = useParams();\n  const [hotels, setHotels] = useState([]);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedHotelIds, setSelectedHotelIds] = useState([]);\n  const fetchHotels = async type => {\n    try {\n      const response = await axios.get(`/api/hotelList?hotelType=${type}&searchTerm=${searchTerm}`);\n      setHotels(response.data);\n    } catch (error) {\n      console.error(`Error fetching hotels: ${error}`);\n      setError(\"호텔목록 불러오는데 실패\");\n    }\n  };\n  const handleHotelSelect = (hotelId, isSelected) => {\n    setSelectedHotelIds(prevSelectedHotelIds => isSelected ? [...prevSelectedHotelIds, hotelId] : prevSelectedHotelIds.filter(id => id !== hotelId));\n  };\n  useEffect(() => {\n    fetchHotels(accommodationType);\n  }, [accommodationType, searchTerm]);\n  useEffect(() => {\n    fetchHotels(\"all\");\n  }, [searchTerm]);\n  const sortHotels = property => {\n    let copy = [...hotels];\n    copy.sort((a, b) => {\n      if (a[property] > b[property]) return -1;\n      if (a[property] < b[property]) return 1;\n      setHotels(copy);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(HotelListContainer, {\n    children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n      onSearch: setSearchTerm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MainCategory, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Line, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(HotelSortContainer, {\n      children: [/*#__PURE__*/_jsxDEV(HotelSortButton, {\n        onClick: () => sortHotels('comments'),\n        children: \"\\uB313\\uAE00\\uC21C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HotelSortButton, {\n        onClick: () => sortHotels('average_score'),\n        children: \"\\uBCC4\\uC810\\uC21C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HotelSortButton, {\n        onClick: () => sortHotels('price'),\n        children: \"\\uAC00\\uACA9\\uC21C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(HotelListWrapper, {\n      children: [hotels.map(hotel => /*#__PURE__*/_jsxDEV(HotelCard, {\n        hotel: hotel,\n        showEditButton: true,\n        onHotelSelect: handleHotelSelect\n        // average_score={true}\n      }, hotel.hotel_id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(HotelComparison, {\n      selectedHotelIds: selectedHotelIds\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(HotelListPage, \"n5wMmr+ZXNxTFrZZCNDsWGhkLyM=\", false, function () {\n  return [useParams];\n});\n_c = HotelListPage;\nvar _c;\n$RefreshReg$(_c, \"HotelListPage\");","map":{"version":3,"names":["axios","useEffect","useState","useParams","HotelListContainer","HotelListWrapper","HotelSortButton","HotelSortContainer","Line","HotelCard","SearchBar","HotelComparison","MainCategory","jsxDEV","_jsxDEV","HotelListPage","_s","accommodationType","hotels","setHotels","error","setError","searchTerm","setSearchTerm","selectedHotelIds","setSelectedHotelIds","fetchHotels","type","response","get","data","console","handleHotelSelect","hotelId","isSelected","prevSelectedHotelIds","filter","id","sortHotels","property","copy","sort","a","b","children","onSearch","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","hotel","showEditButton","onHotelSelect","hotel_id","_c","$RefreshReg$"],"sources":["/Users/kyuhyunpark/Desktop/HotelByKaaPaaa/HotelKP/client/src/pages/HotelListPage.jsx"],"sourcesContent":["// client/src/pages/HotelListPage.jsx\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { HotelListContainer, HotelListWrapper, HotelSortButton, HotelSortContainer, Line } from \"../components/pagestyles/HotelListStyle\";\nimport HotelCard from '../components/hotel/HotelCard';\nimport SearchBar from \"../components/hotel/search/SearchBar\";\nimport HotelComparison from \"../components/hotel/comparison/HotelComparison\";\nimport MainCategory from \"../components/main/MainCategory\";\n\nexport default function HotelListPage() {\n  const { accommodationType } = useParams();\n  const [hotels, setHotels] = useState([]);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedHotelIds, setSelectedHotelIds] = useState([]);\n\n  const fetchHotels = async (type) => {\n    \n    try {\n      const response = await axios.get(`/api/hotelList?hotelType=${type}&searchTerm=${searchTerm}`);\n      setHotels(response.data);\n    } catch (error) {\n      console.error(`Error fetching hotels: ${error}`);\n      setError(\"호텔목록 불러오는데 실패\");\n    }\n  };\n\n  const handleHotelSelect = (hotelId, isSelected) => {\n    setSelectedHotelIds((prevSelectedHotelIds) =>\n      isSelected\n        ? [...prevSelectedHotelIds, hotelId]\n        : prevSelectedHotelIds.filter((id) => id !== hotelId)\n    );\n  };\n\n  useEffect(() => {\n    fetchHotels(accommodationType);\n  }, [accommodationType, searchTerm]);\n\n  useEffect(() => {\n    fetchHotels(\"all\");\n  }, [searchTerm]);\n\n  \n  const sortHotels =(property)=> {\n    let copy = [...hotels]\n    copy.sort((a,b)=> {\n      if(a[property] > b[property]) return -1\n      if(a[property] < b[property]) return 1\n      setHotels(copy)\n    })\n  }\n\n  return (\n    <HotelListContainer>\n      <SearchBar onSearch={setSearchTerm} />\n      <MainCategory />\n\n      <Line />\n\n      <HotelSortContainer>\n        <HotelSortButton onClick={() => sortHotels('comments')}>댓글순</HotelSortButton>\n        <HotelSortButton onClick={() => sortHotels('average_score')}>별점순</HotelSortButton>\n        <HotelSortButton onClick={() => sortHotels('price')}>가격순</HotelSortButton>\n      </HotelSortContainer>\n\n      <HotelListWrapper>\n      {hotels.map((hotel) => (\n        <HotelCard\n          key={hotel.hotel_id}\n          hotel={hotel}\n          showEditButton={true}\n          onHotelSelect={handleHotelSelect}\n          // average_score={true}\n        />\n      ))}\n      {error && <p>{error}</p>}\n      </HotelListWrapper>\n      \n        <HotelComparison selectedHotelIds={selectedHotelIds} />\n    </HotelListContainer>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}