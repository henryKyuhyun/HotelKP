{"ast":null,"code":"var _jsxFileName = \"/Users/kyuhyunpark/Desktop/HotelByKaaPaaa/HotelKP/client/src/components/shared/payment/Payment.jsx\";\nimport React from 'react';\nimport { SubmitButton, TotalPrice, PaymentLayout } from '../../pagestyles/HotelPaymentStyle';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst script = document.createElement('script');\nscript.src = 'https://cdn.iamport.kr/js/iamport.payment-1.2.0.js';\ndocument.body.appendChild(script);\nclass PaymentButton extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.requestPay = () => {\n      //checkin, checkout 날짜가 같은 경우 \n      if (!this.props.paymentCallback()) {\n        return;\n      }\n      var IMP = window.IMP;\n      var today = new Date();\n      var hours = today.getHours();\n      var minutes = today.getMinutes();\n      var seconds = today.getSeconds();\n      var milliseconds = today.getMilliseconds();\n      var makeMerchantUid = this.props.hotel_id + this.props.user_id + '_' + hours + minutes + seconds + milliseconds;\n      IMP.request_pay({\n        pg: 'html5_inicis',\n        pay_method: 'card',\n        merchant_uid: 'IMP' + makeMerchantUid,\n        name: this.props.hotelName,\n        amount: this.props.hotelPrice,\n        buyer_email: 'Iamport@chai.finance',\n        buyer_name: '아임포트 기술지원팀',\n        buyer_tel: '010-1234-5678',\n        buyer_addr: '서울특별시 강남구 삼성동',\n        buyer_postcode: '123-456'\n      }, rsp => {\n        if (rsp.success) {\n          console.log(rsp, '성공');\n          this.props.paymentCallback(true);\n        } else {\n          console.log(rsp, '실패');\n        }\n      });\n    };\n  }\n  componentDidMount() {\n    var IMP = window.IMP;\n    IMP.init('imp67011510');\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(PaymentLayout, {\n      children: [/*#__PURE__*/_jsxDEV(TotalPrice, {\n        children: this.props.hotelPrice === null ? '' : `총 ${this.props.hotelPrice}원`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n        onClick: this.requestPay,\n        children: \"\\uACB0\\uC81C\\uD558\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default PaymentButton;","map":{"version":3,"names":["React","SubmitButton","TotalPrice","PaymentLayout","jsxDEV","_jsxDEV","script","document","createElement","src","body","appendChild","PaymentButton","Component","constructor","args","requestPay","props","paymentCallback","IMP","window","today","Date","hours","getHours","minutes","getMinutes","seconds","getSeconds","milliseconds","getMilliseconds","makeMerchantUid","hotel_id","user_id","request_pay","pg","pay_method","merchant_uid","name","hotelName","amount","hotelPrice","buyer_email","buyer_name","buyer_tel","buyer_addr","buyer_postcode","rsp","success","console","log","componentDidMount","init","render","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick"],"sources":["/Users/kyuhyunpark/Desktop/HotelByKaaPaaa/HotelKP/client/src/components/shared/payment/Payment.jsx"],"sourcesContent":["import React from 'react';\nimport {SubmitButton, TotalPrice, PaymentLayout} from '../../pagestyles/HotelPaymentStyle';\n\nconst script = document.createElement('script');\nscript.src = 'https://cdn.iamport.kr/js/iamport.payment-1.2.0.js';\ndocument.body.appendChild(script);\n\nclass PaymentButton extends React.Component{\n  componentDidMount(){\n    var IMP = window.IMP;\n    IMP.init('imp67011510');\n  }\n\n  requestPay = () => {\n    //checkin, checkout 날짜가 같은 경우 \n    if (!this.props.paymentCallback()) {\n      return;\n    }\n    \n    var IMP = window.IMP;\n    var today = new Date();\n    var hours = today.getHours();\n    var minutes = today.getMinutes();\n    var seconds = today.getSeconds();\n    var milliseconds = today.getMilliseconds();\n    var makeMerchantUid = this.props.hotel_id + this.props.user_id + '_' + hours + minutes + seconds + milliseconds;\n    IMP.request_pay({\n      pg: 'html5_inicis',\n      pay_method: 'card',\n      merchant_uid: 'IMP' + makeMerchantUid,\n      name:this.props.hotelName,\n      amount:this.props.hotelPrice,\n      buyer_email: 'Iamport@chai.finance',\n      buyer_name: '아임포트 기술지원팀',\n      buyer_tel: '010-1234-5678',\n      buyer_addr: '서울특별시 강남구 삼성동',\n      buyer_postcode: '123-456',\n    }, (rsp) => {\n      if (rsp.success) {\n        console.log(rsp, '성공');\n        this.props.paymentCallback(true);\n      } else {\n        console.log(rsp, '실패');\n      }\n    });\n  };\n\n  render() {\n    return (\n      <PaymentLayout>\n        <TotalPrice>{this.props.hotelPrice === null ? '' : `총 ${this.props.hotelPrice}원`}</TotalPrice>\n        <SubmitButton onClick={this.requestPay}>결제하기</SubmitButton>\n      </PaymentLayout>\n    );\n  }\n}\n\nexport default PaymentButton;"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,YAAY,EAAEC,UAAU,EAAEC,aAAa,QAAO,oCAAoC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3F,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;AAC/CF,MAAM,CAACG,GAAG,GAAG,oDAAoD;AACjEF,QAAQ,CAACG,IAAI,CAACC,WAAW,CAACL,MAAM,CAAC;AAEjC,MAAMM,aAAa,SAASZ,KAAK,CAACa,SAAS;EAAAC,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAA,KAMzCC,UAAU,GAAG,MAAM;MACjB;MACA,IAAI,CAAC,IAAI,CAACC,KAAK,CAACC,eAAe,CAAC,CAAC,EAAE;QACjC;MACF;MAEA,IAAIC,GAAG,GAAGC,MAAM,CAACD,GAAG;MACpB,IAAIE,KAAK,GAAG,IAAIC,IAAI,CAAC,CAAC;MACtB,IAAIC,KAAK,GAAGF,KAAK,CAACG,QAAQ,CAAC,CAAC;MAC5B,IAAIC,OAAO,GAAGJ,KAAK,CAACK,UAAU,CAAC,CAAC;MAChC,IAAIC,OAAO,GAAGN,KAAK,CAACO,UAAU,CAAC,CAAC;MAChC,IAAIC,YAAY,GAAGR,KAAK,CAACS,eAAe,CAAC,CAAC;MAC1C,IAAIC,eAAe,GAAG,IAAI,CAACd,KAAK,CAACe,QAAQ,GAAG,IAAI,CAACf,KAAK,CAACgB,OAAO,GAAG,GAAG,GAAGV,KAAK,GAAGE,OAAO,GAAGE,OAAO,GAAGE,YAAY;MAC/GV,GAAG,CAACe,WAAW,CAAC;QACdC,EAAE,EAAE,cAAc;QAClBC,UAAU,EAAE,MAAM;QAClBC,YAAY,EAAE,KAAK,GAAGN,eAAe;QACrCO,IAAI,EAAC,IAAI,CAACrB,KAAK,CAACsB,SAAS;QACzBC,MAAM,EAAC,IAAI,CAACvB,KAAK,CAACwB,UAAU;QAC5BC,WAAW,EAAE,sBAAsB;QACnCC,UAAU,EAAE,YAAY;QACxBC,SAAS,EAAE,eAAe;QAC1BC,UAAU,EAAE,eAAe;QAC3BC,cAAc,EAAE;MAClB,CAAC,EAAGC,GAAG,IAAK;QACV,IAAIA,GAAG,CAACC,OAAO,EAAE;UACfC,OAAO,CAACC,GAAG,CAACH,GAAG,EAAE,IAAI,CAAC;UACtB,IAAI,CAAC9B,KAAK,CAACC,eAAe,CAAC,IAAI,CAAC;QAClC,CAAC,MAAM;UACL+B,OAAO,CAACC,GAAG,CAACH,GAAG,EAAE,IAAI,CAAC;QACxB;MACF,CAAC,CAAC;IACJ,CAAC;EAAA;EArCDI,iBAAiBA,CAAA,EAAE;IACjB,IAAIhC,GAAG,GAAGC,MAAM,CAACD,GAAG;IACpBA,GAAG,CAACiC,IAAI,CAAC,aAAa,CAAC;EACzB;EAoCAC,MAAMA,CAAA,EAAG;IACP,oBACEhD,OAAA,CAACF,aAAa;MAAAmD,QAAA,gBACZjD,OAAA,CAACH,UAAU;QAAAoD,QAAA,EAAE,IAAI,CAACrC,KAAK,CAACwB,UAAU,KAAK,IAAI,GAAG,EAAE,GAAI,KAAI,IAAI,CAACxB,KAAK,CAACwB,UAAW;MAAE;QAAAc,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAa,CAAC,eAC9FrD,OAAA,CAACJ,YAAY;QAAC0D,OAAO,EAAE,IAAI,CAAC3C,UAAW;QAAAsC,QAAA,EAAC;MAAI;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAc,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9C,CAAC;EAEpB;AACF;AAEA,eAAe9C,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}