{"ast":null,"code":"var _jsxFileName = \"/Users/kyuhyunpark/Desktop/HotelByKaaPaaa/HotelKP/client/src/pages/HotelListPage.jsx\",\n  _s = $RefreshSig$();\n// client/src/pages/HotelListPage.jsx\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { HotelListContainer } from \"../components/pagestyles/HotelListStyles\";\nimport HotelCard from '../components/hotel/HotelCard';\nimport SearchBar from \"../components/hotel/search/Searchbar\";\nimport HotelComparison from \"../components/hotel/comparison/HotelComparison\";\nimport MainCategory from \"../components/main/MainCategory\";\nimport Header from \"../components/shared/header/Header\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function HotelListPage() {\n  _s();\n  const {\n    accommodationType\n  } = useParams();\n  const [hotels, setHotels] = useState([]);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedHotelIds, setSelectedHotelIds] = useState([]);\n  const fetchHotels = async type => {\n    let url = '/api/hotelList';\n    try {\n      const response = await axios.get(`/api/hotelList?hotelType=${type}&searchTerm=${searchTerm}`);\n      setHotels(response.data);\n    } catch (error) {\n      console.error(`Error fetching hotels: ${error}`);\n      setError(\"호텔목록 불러오는데 실패\");\n    }\n  };\n  const handleHotelSelect = (hotelId, isSelected) => {\n    setSelectedHotelIds(prevSelectedHotelIds => isSelected ? [...prevSelectedHotelIds, hotelId] : prevSelectedHotelIds.filter(id => id !== hotelId));\n  };\n  useEffect(() => {\n    fetchHotels(accommodationType);\n  }, [accommodationType, searchTerm]);\n  const sortHotels = property => {\n    let copy = [...hotels];\n    copy.sort((a, b) => {\n      if (a[property] > b[property]) return -1;\n      if (a[property] < b[property]) return 1;\n      setHotels(copy);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(HotelListContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchBar, {\n      onSearch: setSearchTerm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MainCategory, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), hotels.map(hotel => /*#__PURE__*/_jsxDEV(HotelCard, {\n      hotel: hotel,\n      showEditButton: true,\n      onHotelSelect: handleHotelSelect\n      // average_score={true}\n    }, hotel.hotel_id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this)), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => sortHotels('comments'),\n      children: \"\\uB313\\uAE00\\uC21C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => sortHotels('average_score'),\n      children: \"\\uBCC4\\uC810\\uC21C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => sortHotels('price'),\n      children: \"\\uAC00\\uACA9\\uC21C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(HotelComparison, {\n      selectedHotelIds: selectedHotelIds\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(HotelListPage, \"g/ssHalCeIB0C2kWfrD0jKdvgYQ=\", false, function () {\n  return [useParams];\n});\n_c = HotelListPage;\nvar _c;\n$RefreshReg$(_c, \"HotelListPage\");","map":{"version":3,"names":["axios","useEffect","useState","useParams","HotelListContainer","HotelCard","SearchBar","HotelComparison","MainCategory","Header","jsxDEV","_jsxDEV","HotelListPage","_s","accommodationType","hotels","setHotels","error","setError","searchTerm","setSearchTerm","selectedHotelIds","setSelectedHotelIds","fetchHotels","type","url","response","get","data","console","handleHotelSelect","hotelId","isSelected","prevSelectedHotelIds","filter","id","sortHotels","property","copy","sort","a","b","children","fileName","_jsxFileName","lineNumber","columnNumber","onSearch","map","hotel","showEditButton","onHotelSelect","hotel_id","onClick","_c","$RefreshReg$"],"sources":["/Users/kyuhyunpark/Desktop/HotelByKaaPaaa/HotelKP/client/src/pages/HotelListPage.jsx"],"sourcesContent":["// client/src/pages/HotelListPage.jsx\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { HotelListContainer } from \"../components/pagestyles/HotelListStyles\";\nimport HotelCard from '../components/hotel/HotelCard';\nimport SearchBar from \"../components/hotel/search/Searchbar\";\nimport HotelComparison from \"../components/hotel/comparison/HotelComparison\";\nimport MainCategory from \"../components/main/MainCategory\";\nimport Header from \"../components/shared/header/Header\";\n\nexport default function HotelListPage() {\n  const { accommodationType } = useParams();\n  const [hotels, setHotels] = useState([]);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedHotelIds, setSelectedHotelIds] = useState([]);\n\n  const fetchHotels = async (type) => {\n    let url = '/api/hotelList';\n\n    try {\n      const response = await axios.get(`/api/hotelList?hotelType=${type}&searchTerm=${searchTerm}`);\n      setHotels(response.data);\n    } catch (error) {\n      console.error(`Error fetching hotels: ${error}`);\n      setError(\"호텔목록 불러오는데 실패\");\n    }\n  };\n\n  const handleHotelSelect = (hotelId, isSelected) => {\n    setSelectedHotelIds((prevSelectedHotelIds) =>\n      isSelected\n        ? [...prevSelectedHotelIds, hotelId]\n        : prevSelectedHotelIds.filter((id) => id !== hotelId)\n    );\n  };\n\n  useEffect(() => {\n    fetchHotels(accommodationType);\n  }, [accommodationType, searchTerm]);\n\n  const sortHotels =(property)=> {\n    let copy = [...hotels]\n    copy.sort((a,b)=> {\n      if(a[property] > b[property]) return -1\n      if(a[property] < b[property]) return 1\n      setHotels(copy)\n    })\n  }\n\n  return (\n    <HotelListContainer>\n      <Header/>\n      <SearchBar onSearch={setSearchTerm} />\n      <MainCategory />\n\n      {hotels.map((hotel) => (\n        <HotelCard\n          key={hotel.hotel_id}\n          hotel={hotel}\n          showEditButton={true}\n          onHotelSelect={handleHotelSelect}\n          // average_score={true}\n        />\n      ))}\n      {error && <p>{error}</p>}\n      <button onClick={() => sortHotels('comments')}>댓글순</button>\n      <button onClick={() => sortHotels('average_score')}>별점순</button>\n      <button onClick={() => sortHotels('price')}>가격순</button>\n      \n        <HotelComparison selectedHotelIds={selectedHotelIds} />\n    </HotelListContainer>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}