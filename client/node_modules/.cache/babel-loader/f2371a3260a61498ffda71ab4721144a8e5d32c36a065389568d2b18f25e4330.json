{"ast":null,"code":"var _jsxFileName = \"/Users/kyuhyunpark/Desktop/HotelByKaaPaaa/HotelKP/client/src/components/shared/header/Sidebar.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useNavigate } from \"react-router-dom\";\nimport { Link } from 'react-router-dom';\nimport * as authActions from '../../../redux/authAction';\nimport { MenuIcon, SubMenu, MenuItem } from './SidebarStyle';\nimport { resetLikes } from \"../../../redux/slice/likeSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Sidebar() {\n  _s();\n  const [loggedInUser, setLoggedInUser] = useState(null);\n  const [activeMenus, setActiveMenus] = useState([]);\n  const isLoggedIn = useSelector(state => {\n    var _state$auth;\n    return (_state$auth = state.auth) === null || _state$auth === void 0 ? void 0 : _state$auth.isLoggedIn;\n  });\n  const userRole = useSelector(state => {\n    var _state$auth2;\n    return (_state$auth2 = state.auth) === null || _state$auth2 === void 0 ? void 0 : _state$auth2.userRole;\n  });\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (isLoggedIn) {\n      const storedUser = localStorage.getItem('loggedInUser');\n      setLoggedInUser(JSON.parse(storedUser));\n    } else {\n      setLoggedInUser(null);\n    }\n  }, [isLoggedIn]);\n\n  // 메뉴 활성화 상태를 토글하는 함수\n  const toggleMenu = index => {\n    if (activeMenus.includes(index)) {\n      setActiveMenus(activeMenus.filter(i => i !== index));\n    } else {\n      setActiveMenus([...activeMenus, index]);\n    }\n  };\n  const handleLogout = () => {\n    dispatch(authActions.logout());\n    dispatch(resetLikes());\n    navigate(\"/\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(MenuItem, {\n      children: [{\n        name: 'My메뉴',\n        subMenuItems: [...(isLoggedIn ? [{\n          name: '로그아웃',\n          func: handleLogout\n        }, {\n          name: '마이페이지',\n          url: '/mypage'\n        }] : [{\n          name: '로그인',\n          url: '/login'\n        }, {\n          name: '회원가입',\n          url: '/join'\n        }]), ...(isLoggedIn && userRole === 'hotel_admin' ? [{\n          name: '호텔 등록',\n          url: '/uploadHotel'\n        }] : [])]\n      }].map((menuItem, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          fold: activeMenus.includes(index),\n          className: activeMenus.includes(index) ? 'active' : '',\n          onClick: () => toggleMenu(index),\n          children: /*#__PURE__*/_jsxDEV(MenuIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this), activeMenus.includes(index) && /*#__PURE__*/_jsxDEV(SubMenu, {\n          children: menuItem.subMenuItems.map((subMenuItem, subIndex) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: subMenuItem.url ? /*#__PURE__*/_jsxDEV(Link, {\n              to: subMenuItem.url,\n              children: subMenuItem.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 27\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: subMenuItem.func,\n              children: subMenuItem.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 27\n            }, this)\n          }, `${index}-${subIndex}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 21\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(Sidebar, \"FxK/PKRaT08clgI+GlXBoDkAyDw=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useNavigate];\n});\n_c = Sidebar;\nvar _c;\n$RefreshReg$(_c, \"Sidebar\");","map":{"version":3,"names":["React","useState","useEffect","useSelector","useDispatch","useNavigate","Link","authActions","MenuIcon","SubMenu","MenuItem","resetLikes","jsxDEV","_jsxDEV","Sidebar","_s","loggedInUser","setLoggedInUser","activeMenus","setActiveMenus","isLoggedIn","state","_state$auth","auth","userRole","_state$auth2","dispatch","navigate","storedUser","localStorage","getItem","JSON","parse","toggleMenu","index","includes","filter","i","handleLogout","logout","children","name","subMenuItems","func","url","map","menuItem","fold","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","subMenuItem","subIndex","to","_c","$RefreshReg$"],"sources":["/Users/kyuhyunpark/Desktop/HotelByKaaPaaa/HotelKP/client/src/components/shared/header/Sidebar.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useNavigate } from \"react-router-dom\";\nimport { Link } from 'react-router-dom';\nimport * as authActions from '../../../redux/authAction';\nimport {MenuIcon,\n        SubMenu,\n        MenuItem,\n      } from './SidebarStyle';\nimport { resetLikes } from \"../../../redux/slice/likeSlice\"; \n\nexport default function Sidebar() {\n  const [loggedInUser, setLoggedInUser] = useState(null);\n  const [activeMenus, setActiveMenus] = useState([]);\n  const isLoggedIn = useSelector((state) => state.auth?.isLoggedIn);\n  const userRole = useSelector((state) => state.auth?.userRole);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      const storedUser = localStorage.getItem('loggedInUser');\n      setLoggedInUser(JSON.parse(storedUser));\n      \n    } else {\n      setLoggedInUser(null);\n    }\n  }, [isLoggedIn]);\n\n\n  // 메뉴 활성화 상태를 토글하는 함수\n  const toggleMenu = (index) => {\n    if (activeMenus.includes(index)) {\n      setActiveMenus(activeMenus.filter((i) => i !== index));\n    } else {\n      setActiveMenus([...activeMenus, index]);\n    }\n  };\n\n  const handleLogout = () => {\n    dispatch(authActions.logout());\n    dispatch(resetLikes());\n    navigate(\"/\");\n  };\n\n\n  return (\n    <div>\n      <MenuItem>\n        {\n          [\n            {\n              name: 'My메뉴',\n              subMenuItems: [\n                ...(isLoggedIn ? [{ name: '로그아웃', func: handleLogout }, { name: '마이페이지', url: '/mypage' }] \n                              : [{ name: '로그인', url: '/login' }, { name: '회원가입', url: '/join' }]),\n                ...(isLoggedIn && userRole === 'hotel_admin' ? [{ name: '호텔 등록', url: '/uploadHotel' }] : []),\n              ],\n            },\n          ].map((menuItem, index) => (\n            <li key={index}>\n              <button\n                fold={activeMenus.includes(index)}\n                className={activeMenus.includes(index) ? 'active' : ''}\n                onClick={() => toggleMenu(index)}\n              >\n                <MenuIcon />\n              </button>\n              {activeMenus.includes(index) && (\n                <SubMenu> \n                  {menuItem.subMenuItems.map((subMenuItem, subIndex) => (\n                    <li key={`${index}-${subIndex}`}>\n                      {subMenuItem.url \n                        ? <Link to={subMenuItem.url}>{subMenuItem.name}</Link>\n                        : <button onClick={subMenuItem.func}>{subMenuItem.name}</button>\n                      }\n                    </li>\n                  ))}\n                </SubMenu>\n              )}\n            </li>\n          ))\n        }\n      </MenuItem>\n    </div>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}